(function(h,o,e){var i={year:new Date().getFullYear(),week:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],step:5,stepColor:["#E8D8F8","#B5CdE6","#77A4D0","#3977AD"],defaultColor:"#EBEDF0",active:{}};var n=o.createElementNS("http://www.w3.org/2000/svg","svg");var m=i.year;var k=0;var u=[];var q=i.week;var l=i.active;var f=i.step;var j=i.stepColor;var r=i.defaultColor;function t(v,w){return(""+v).length<w?((new Array(w+1).join("0")+v).slice(-w)):""+v}function b(x){var y=Math.floor(x/f);var v=j.length;var w=x>0?((y>v-1)?j[v-1]:j[y]):r;return w}function s(v){if(l[v]){return l[v]}return 0}function d(w){var v={"month":1,"day":0};while(w>u[v.month]){w-=u[v.month];v.month++}v.day=w;return v}function p(x){for(var w=1;w<=12;w++){var v=new Date(x,w,0).getDate();u[w]=v;k+=v}return k}function g(v){for(var w=1;w<=12;w++){var y=o.createElementNS("http://www.w3.org/2000/svg","text");y.setAttribute("x",30+52*(w-1));y.setAttribute("y",-10);y.setAttribute("class","month");var x=o.createTextNode(w+"月");y.appendChild(x);v.appendChild(y)}return v}function c(v){for(var w=1;w<=7;w++){var x=q[new Date(m,0,w).getDay()];var z=o.createElementNS("http://www.w3.org/2000/svg","text");if(w%2===0){z.setAttribute("style","display:none")}z.setAttribute("y",10+12*(w-1));z.setAttribute("x",-36);z.setAttribute("class","month");var y=o.createTextNode(x);z.appendChild(y);v.appendChild(z)}return v}function a(A,w){for(var z=0;z<w;z++){if(z%7===0){var B=o.createElementNS("http://www.w3.org/2000/svg","g");B.setAttribute("transform","translate("+(13*(z/7))+",0)")}var D=z/7;var C=z%7;var v=o.createElementNS("http://www.w3.org/2000/svg","rect");var F=d(z+1);var y=m+"-"+t(F.month,2)+"-"+t(F.day,2);v.setAttribute("data-date",y);var E=s(y);var x=b(E);v.setAttribute("data-count",E);v.setAttribute("fill",x);v.setAttribute("class","day");v.setAttribute("width","10");v.setAttribute("height","10");v.setAttribute("x",(14-D));v.setAttribute("y",(12*C));B.appendChild(v);A.appendChild(B)}return A}h.contributionCalendar=function(y,v){v=v||{};var w=o.getElementById(y);if(!w){console.log("传入的ID不存在");return}if(v.year){m=v.year}if(v.active){l=v.active}k=p(m);n=g(n);n=c(n);n=a(n,k);if(v.before){var x=o.getElementById(v.before);if(x){w.insertBefore(n,x)}else{w.appendChild(n)}}else{w.appendChild(n)}}})(window,document);